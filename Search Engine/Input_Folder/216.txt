https://t.co/IGo4pkd1WC
Know Yourself More from Your WhatsApp Chat History - Towards Data Science Sign in Data Science Machine Learning Programming Visualization AI Video About Contribute Know Yourself More from Your WhatsApp Chat History A brief data exploration on chat data using python to discover new things Iqbal Basyar Follow Mar 23 · 6 min read Due to the Covid-19 pandemic, I was suggested to do remote working from home. It’s been a week and being all day at home bores me, so I randomly thought maybe it’s the right time to do self-introspection. Luckily, I remembered that I exported my WhatsApp chat not long ago. So I jumped into it and decided to do quick data exploration, to know more about myself and my interlocutor. Let the data speak. Data Preparation WhatsApp exported chat is formatted as .txt. Every line of the message consists of <timestamp> — <sender> : <message>. In some cases where the messages has multiple lines, the 2nd and following lines will be represented with only <message> without <timestamp> — <sender> . See example below for the structure. Converting the data into a DataFrame allows me to do much more. The beauty of this task is it need pattern matching to separate the timestamp, sender, and the message. Regex will make the job done a lot easier. I combine Python’s re module with its f-string string formatting and find out it’s a great combination, especially on a more complex pattern. Here’s my code to convert the .txt file into a dataframe. Is it enough? No. There’s a lot more information we could retrieve to help future analysis. Thus, I did more feature engineering in the code below and return the following dataframe. Exploratory Data Analysis Now that the data is ready, let’s start by answering several questions 1. When is the most active conversations happen Knowing chat behavior is a must. I think looking into the time when conversations happen the most will describe it quite well. So, in hour frequency, I took an average of: number of words (word), number of characters (char), number of sequence of line that considered as one reply (seq), and number of lines (seq_line). In case you’re confused with seq and seq_line, assume there’s a conversation between A and B A-A-B-B-B will have 2 seq and 5 seq_line A-B-A-B will have 4 seq and 4 seq_line From the chart above, I know at least: On a weekday, we tend to stop chatting on break hour (12 pm), while on weekend, it’s at 3 pm. I can understand why we stopped chatting at noon on a weekday. It’s break hour. I have my lunch, quick rest, and it makes me away from my phone. But, I never thought that 3 pm on weekends will be that low. On a weekday, the gap between seq and seq_line getting smaller at noon, meaning that every reply contains very few lines at this hour. The overall gap is much higher on weekends, meaning we often reply with more lines on the weekend. If we zoom at hour 7–10 pm, even with the relatively same amount of lines (seq_line) between weekday and weekend, the word count (word) on the weekend is much higher. This means that every line contains more words on the weekend than a weekday. I assume that this is ‘story time’. If I have to discuss something, I think I’ll do it at that time. I could say that by average, I begin actively chatting on 6 pm, and reaches its peak on 10–11 pm everyday, and stop chatting until 6 am. 2. Who Responds Faster I wantto know, who took longer to reply to a text. It’s quite important to know who’s responsive and who’s not. I don’t want to be generally judged by “you reply late” without any evidence. So, again, this is the moment of truth. I do the average of all text from party-A ant party-B. I took the differences between party A’s last chat to party B’s first reply (vice versa), do some data wrangling and have the result in the following: It looks like party A and B are similar. They took ~10 minutes to reply to a message. However, on party B’s side, the variance is higher, meaning there’s a greater chance that party B takes longer to reply. I think I know who party B is *sigh. 3. When is the fastest Response Time Similar to the previous problem, but now I want to see when is exactly the fastest response occurs. Looking by the mean, on working day (Mon-Fri) party A and have the fastest response at 1 am while party B at 11 pm. On weekend, party A is fastest at 0 am while party B is still at 11 pm. You can see several different peaks for Party A and B, but what I wanted to highlight is this fact supports my previous statement saying that the conversation is more intense at late night. 4. Who write longer or faster I’ve shown you who’s faster at giving a reply. But what if the party taking longer to reply uses more words? I took a brief summary of lines, words, and characters used in every party’s text. Please note that a text or reply could consist of multiple lines. If we see carefully, in terms of the number of lines, party B replies with more line that party A. This might lead to a conclusion that Party A tends to sum up the reply in a whole line, while party B tends to send it in different lines. The number of words and characters that party B sends on each reply is relatively lower than party A, meaning party A writes longer than party B. This is also supported by the duration variable, where party A has more duration in writing a reply than party B. So, party A writes longer than party B. In the previous question, we know that party B takes a longer time to respond. I assume that’s because party B writes longer than A. In fact, A writes longer. And B even writes faster than A. So there’s no excuse for B haha. 5. Word Frequencies One of the most popular ways to inspect word data is by visualizing its word frequency using a word cloud. I remove several stopwords to remove the meaningless frequent word. Since I use Bahasa Indonesia on my chat, I use Elang to remove Indonesian stopwords. Now, using word cloud, take a look at these words That’s a lot of “haha” and “wkwk”, Indonesian-considered laughing word. Using regex, I remove the laughing words and here’s the final word cloud. I’m sorry if you don’t understand the words, It’s Indonesian, and it’s mostly non-formal words (who use formal words in chat anyway). 6. How often do we laugh Previously I discovered that the laughing words take up a lot of my word cloud space. Are we that frequent in laughing (via text)? To find out, I extract all laughing words and compare its number with the number of lines to get the probability. 21.7% probability of having a laughing word in one line? That’s hilarious. I don’t expect that much. But it is what it is. Maybe I’m a funny person in-text. Am I? Summary We have an intense conversation late at night, probably talking about each other experiences. We laugh a lot. Party A writes a lot but took longer to write, while Party B writes shorter, but took longer to respond. Future Work There are many applications to be done with the data. In future work, I would like to do sentiment analysis for the chat, See if I could use the data to forecast the number of conversations, and do clustering using more than one conversation (multiple people) If there anything you think I missed in this post, please leave a comment below. I would like to hear any form of questions/suggestions too. Full code available on my git repository Thank you. Towards Data Science A Medium publication sharing concepts, ideas, and codes. Follow 2 Python Exploratory Data Analysis Data Science NLP Chat 2 claps Written by Iqbal Basyar Follow Instructor at algorit.ma -- Apply data science on a daily basis Follow Towards Data Science Follow A Medium publication sharing concepts, ideas, and codes. Follow See responses (1) More From Medium More from Towards Data Science More from Towards Data Science from sklearn import * Conor Lazarou in Towards Data Science Mar 22 · 9 min read 2.5K More from Towards Data Science More from Towards Data Science Top 3 Python Functions You Don’t Know About (Probably) Dario Rade?i? in Towards Data Science Mar 14 · 4 min read 4.3K More from Towards Data Science More from Towards Data Science Don’t learn machine learning Caleb Kaiser in Towards Data Science Mar 19 · 4 min read 2.4K Discover MediumWelcome to a place where words matter. On Medium, smart voices and original ideas take center stage - with no ads in sight. Watch Make Medium yoursFollow all the topics you care about, and we’ll deliver the best stories for you to your homepage and inbox. Explore Become a memberGet unlimited access to the best stories on Medium — and support writers while you’re at it. Just $5/month. Upgrade AboutHelpLegal
